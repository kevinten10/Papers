<!DOCTYPE HTML>
<html>
<head>
    <title>Kevin's Advanced Knowledge Base</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
    <style>
        :root {
            --primary-color: #49bf9d;
            --primary-dark: #3a9d7a;
            --accent-color: #64b5f6;
            --warning-color: #ffb74d;
            --success-color: #81c784;
            --error-color: #e57373;
        }

        .knowledge-dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2em;
            min-height: 100vh;
        }

        .sidebar {
            background: linear-gradient(135deg, rgba(73, 191, 157, 0.1), rgba(73, 191, 157, 0.05));
            border-radius: 12px;
            padding: 1.5em;
            border: 1px solid rgba(73, 191, 157, 0.2);
            position: sticky;
            top: 20px;
            height: fit-content;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
        }

        .content-area {
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            padding: 2em;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .search-advanced {
            position: relative;
            margin-bottom: 2em;
        }

        .search-input {
            width: 100%;
            padding: 1em 1em 1em 3em;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(73, 191, 157, 0.3);
            border-radius: 25px;
            color: white;
            font-size: 1em;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 20px rgba(73, 191, 157, 0.3);
        }

        .search-icon {
            position: absolute;
            left: 1em;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            font-size: 1.2em;
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5em;
            margin-top: 1em;
        }

        .filter-tag {
            background: rgba(73, 191, 157, 0.2);
            color: var(--primary-color);
            padding: 0.3em 0.8em;
            border-radius: 15px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .filter-tag:hover, .filter-tag.active {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .category-tree {
            margin-top: 2em;
        }

        .tree-node {
            margin-bottom: 0.5em;
        }

        .tree-toggle {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 1em;
            padding: 0.5em;
            border-radius: 5px;
            transition: all 0.3s ease;
            width: 100%;
            text-align: left;
        }

        .tree-toggle:hover {
            background: rgba(73, 191, 157, 0.1);
        }

        .tree-children {
            margin-left: 1em;
            border-left: 2px solid rgba(73, 191, 157, 0.2);
            padding-left: 1em;
            margin-top: 0.5em;
        }

        .tree-children.collapsed {
            display: none;
        }

        .article-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5em;
            margin-top: 2em;
        }

        .article-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
            border-radius: 12px;
            padding: 1.5em;
            border: 1px solid rgba(73, 191, 157, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .article-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(73, 191, 157, 0.2);
            border-color: var(--primary-color);
        }

        .article-title {
            color: var(--primary-color);
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 0.8em;
            line-height: 1.4;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1em;
            font-size: 0.9em;
            color: rgba(255,255,255,0.7);
        }

        .article-type {
            background: var(--accent-color);
            color: white;
            padding: 0.2em 0.6em;
            border-radius: 10px;
            font-size: 0.8em;
        }

        .article-description {
            color: rgba(255,255,255,0.8);
            line-height: 1.6;
            margin-bottom: 1em;
        }

        .article-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.3em;
            margin-bottom: 1em;
        }

        .article-tag {
            background: rgba(73, 191, 157, 0.2);
            color: var(--primary-color);
            padding: 0.2em 0.5em;
            border-radius: 8px;
            font-size: 0.7em;
        }

        .article-actions {
            display: flex;
            gap: 0.5em;
        }

        .btn-read {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 0.5em 1em;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .btn-read:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(73, 191, 157, 0.4);
            color: white;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1em;
            margin-bottom: 2em;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(73, 191, 157, 0.1), rgba(73, 191, 157, 0.05));
            border-radius: 10px;
            padding: 1.5em;
            text-align: center;
            border: 1px solid rgba(73, 191, 157, 0.2);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            color: rgba(255,255,255,0.8);
            margin-top: 0.5em;
        }

        .breadcrumb {
            background: rgba(73, 191, 157, 0.1);
            padding: 1em;
            border-radius: 8px;
            margin-bottom: 2em;
            border-left: 4px solid var(--primary-color);
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(73, 191, 157, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .no-results {
            text-align: center;
            padding: 3em;
            color: rgba(255,255,255,0.6);
        }

        @media (max-width: 768px) {
            .knowledge-dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: relative;
                top: 0;
                max-height: none;
            }
        }
    </style>
</head>
<body class="is-preload">

<!-- Header -->
<header id="header">
    <div class="inner">
        <a href="index.html" class="image avatar"><img src="images/avatar.jpg" alt=""/></a>
        <h1><strong>Advanced Knowledge Base</strong><br/>
            Êô∫ËÉΩÊäÄÊúØÊñáÊ°£Á≥ªÁªü<br/>
            AIÈ©±Âä®ÁöÑÂ≠¶‰π†Âπ≥Âè∞</h1>
    </div>
</header>

<!-- Main -->
<div id="main">
    <div class="breadcrumb">
        <span>üè† <a href="index.html" style="color: var(--primary-color);">È¶ñÈ°µ</a></span>
        <span> / </span>
        <span>üìö È´òÁ∫ßÁü•ËØÜÂ∫ì</span>
    </div>

    <div class="knowledge-dashboard">
        <!-- ‰æßËæπÊ†è -->
        <div class="sidebar">
            <div class="search-advanced">
                <div style="position: relative;">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="advancedSearch" class="search-input" placeholder="Êô∫ËÉΩÊêúÁ¥¢ÊñáÁ´†„ÄÅÊäÄÊúØÊ†à„ÄÅÂÖ≥ÈîÆËØç...">
                </div>
                <div class="filter-tags" id="filterTags">
                    <span class="filter-tag active" data-filter="all">ÂÖ®ÈÉ®</span>
                    <span class="filter-tag" data-filter="java">Java</span>
                    <span class="filter-tag" data-filter="bigdata">Â§ßÊï∞ÊçÆ</span>
                    <span class="filter-tag" data-filter="concurrent">Âπ∂Âèë</span>
                    <span class="filter-tag" data-filter="database">Êï∞ÊçÆÂ∫ì</span>
                    <span class="filter-tag" data-filter="architecture">Êû∂ÊûÑ</span>
                    <span class="filter-tag" data-filter="ai">AI/ML</span>
                </div>
            </div>

            <div class="category-tree" id="categoryTree">
                <h4 style="color: var(--primary-color); margin-bottom: 1em;">üìÇ ÂàÜÁ±ªÂØºËà™</h4>
                <!-- Âä®ÊÄÅÁîüÊàêÁöÑÂàÜÁ±ªÊ†ë -->
            </div>
        </div>

        <!-- ÂÜÖÂÆπÂå∫Âüü -->
        <div class="content-area">
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-number" id="totalArticles">0</div>
                    <div class="stat-label">üìÑ ÊäÄÊúØÊñáÁ´†</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalCategories">0</div>
                    <div class="stat-label">üìÅ ÂàÜÁ±ªÁõÆÂΩï</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalTags">0</div>
                    <div class="stat-label">üè∑Ô∏è ÊäÄÊúØÊ†áÁ≠æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="readingTime">0</div>
                    <div class="stat-label">‚è±Ô∏è È¢ÑËÆ°ÈòÖËØª(Â∞èÊó∂)</div>
                </div>
            </div>

            <div id="loadingIndicator" style="text-align: center; padding: 2em;">
                <div class="loading-spinner"></div>
                <p style="margin-top: 1em; color: var(--primary-color);">Ê≠£Âú®Âä†ËΩΩÁü•ËØÜÂ∫ìÂÜÖÂÆπ...</p>
            </div>

            <div class="article-grid" id="articleGrid" style="display: none;">
                <!-- Âä®ÊÄÅÁîüÊàêÁöÑÊñáÁ´†Âç°Áâá -->
            </div>

            <div class="no-results" id="noResults" style="display: none;">
                <h3>üîç Êú™ÊâæÂà∞ÂåπÈÖçÁöÑÂÜÖÂÆπ</h3>
                <p>Â∞ùËØïË∞ÉÊï¥ÊêúÁ¥¢ÂÖ≥ÈîÆËØçÊàñÁ≠õÈÄâÊù°‰ª∂</p>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="inner">
        <ul class="icons">
            <li><a href="https://github.com/kevinten10" class="icon fa-github"><span class="label">Github</span></a></li>
            <li><a href="mailto:596823919@qq.com" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; kevinten10</li>
            <li>Advanced Knowledge Base System</li>
        </ul>
    </div>
</footer>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<script>
// Áü•ËØÜÂ∫ìÊï∞ÊçÆÁªìÊûÑ
const knowledgeBase = {
    categories: {
        "ÂçöÂÆ¢ÊñáÁ´†": {
            icon: "üìù",
            children: {
                "‰∫∫Â∑•Êô∫ËÉΩ": {
                    icon: "ü§ñ",
                    articles: [
                        {
                            title: "Êó∂Èó¥Â∫èÂàóÈ¢ÑÊµãProphetÁÆóÊ≥ïÂ∑•Á®ãÂÆûË∑µ",
                            path: "ÂçöÂÆ¢ÊñáÁ´†/Artificial/Êó∂Èó¥Â∫èÂàóÈ¢ÑÊµãprophetÁÆóÊ≥ïÂ∑•Á®ãÂÆûË∑µ.md",
                            type: "markdown",
                            tags: ["AI", "Êó∂Èó¥Â∫èÂàó", "Prophet", "ÁÆóÊ≥ï"],
                            description: "Ê∑±ÂÖ•Êé¢ËÆ®FacebookÂºÄÊ∫êÁöÑProphetÊó∂Èó¥Â∫èÂàóÈ¢ÑÊµãÁÆóÊ≥ïÂú®ÂÆûÈôÖÂ∑•Á®ã‰∏≠ÁöÑÂ∫îÁî®ÂÆûË∑µ",
                            readTime: 15
                        }
                    ]
                },
                "Â§ßÊï∞ÊçÆ": {
                    icon: "üìä",
                    articles: [
                        {
                            title: "Google ‰∏âÈ©æÈ©¨ËΩ¶",
                            path: "ÂçöÂÆ¢ÊñáÁ´†/BigData/Google ‰∏âÈ©æÈ©¨ËΩ¶.md",
                            type: "markdown",
                            tags: ["Google", "BigData", "GFS", "MapReduce", "Bigtable"],
                            description: "Ê∑±Â∫¶Ëß£ÊûêGoogle‰∏âÂ§ßÊ†∏ÂøÉÊäÄÊúØÔºöGFS„ÄÅMapReduce„ÄÅBigtableÁöÑËÆæËÆ°ÁêÜÂøµ‰∏éÂÆûÁé∞",
                            readTime: 25
                        },
                        {
                            title: "Spark JobGraphÊé¢Á©∂",
                            path: "ÂçöÂÆ¢ÊñáÁ´†/BigData/Spark JobGraphÊé¢Á©∂.md",
                            type: "markdown",
                            tags: ["Spark", "JobGraph", "Â§ßÊï∞ÊçÆ", "Ë∞ÉÂ∫¶"],
                            description: "Ê∑±ÂÖ•ÂàÜÊûêSpark‰Ωú‰∏öË∞ÉÂ∫¶Êú∫Âà∂ÔºåÊé¢Á¥¢JobGraphÁöÑÊûÑÂª∫‰∏é‰ºòÂåñÁ≠ñÁï•",
                            readTime: 20
                        },
                        {
                            title: "ESÊï∞ÊçÆÊî∂ÈõÜÂàÜÊûêÁà¨Ëô´",
                            path: "ÂçöÂÆ¢ÊñáÁ´†/BigData/ESÊï∞ÊçÆÊî∂ÈõÜÂàÜÊûêÁà¨Ëô´.md",
                            type: "markdown",
                            tags: ["Elasticsearch", "Áà¨Ëô´", "Êï∞ÊçÆÂàÜÊûê"],
                            description: "Âü∫‰∫éElasticsearchÁöÑÊï∞ÊçÆÊî∂ÈõÜ‰∏éÂàÜÊûêÁà¨Ëô´Á≥ªÁªüËÆæËÆ°‰∏éÂÆûÁé∞",
                            readTime: 18
                        }
                    ]
                },
                "‰∫ëËÆ°ÁÆó": {
                    icon: "‚òÅÔ∏è",
                    articles: [
                        {
                            title: "AWSÊúØËØ≠Ëß£Êûê",
                            path: "ÂçöÂÆ¢ÊñáÁ´†/Cloud/aws-terminology.md",
                            type: "markdown",
                            tags: ["AWS", "‰∫ëËÆ°ÁÆó", "ÊúØËØ≠"],
                            description: "AWSÊ†∏ÂøÉÊúçÂä°‰∏éÊúØËØ≠ËØ¶Ëß£ÔºåÂ∏ÆÂä©Âø´ÈÄüÁêÜËß£‰∫ëËÆ°ÁÆóÊ¶ÇÂøµ",
                            readTime: 12
                        }
                    ]
                }
            }
        },
        "JavaÊäÄÊúØ": {
            icon: "‚òï",
            children: {
                "JDKÊñ∞ÁâπÊÄß": {
                    icon: "üÜï",
                    articles: [
                        {
                            title: "JDK9 - JPMSÊ®°ÂùóÂåñ",
                            path: "article/Java/JDK/JDK9-JPMSÊ®°ÂùóÂåñ.md",
                            type: "markdown",
                            tags: ["JDK9", "JPMS", "Ê®°ÂùóÂåñ", "Java"],
                            description: "Ê∑±ÂÖ•ÁêÜËß£JDK9ÂºïÂÖ•ÁöÑJavaÂπ≥Âè∞Ê®°ÂùóÁ≥ªÁªü(JPMS)ËÆæËÆ°‰∏éÂ∫îÁî®",
                            readTime: 22
                        },
                        {
                            title: "JDK10 - varÁ±ªÂûãÊé®Êñ≠",
                            path: "article/Java/JDK/JDK10-varÁ±ªÂûãÊé®Êñ≠.md",
                            type: "markdown",
                            tags: ["JDK10", "var", "Á±ªÂûãÊé®Êñ≠", "Java"],
                            description: "JDK10Â±ÄÈÉ®ÂèòÈáèÁ±ªÂûãÊé®Êñ≠ÁâπÊÄßËØ¶Ëß£‰∏éÊúÄ‰Ω≥ÂÆûË∑µ",
                            readTime: 15
                        },
                        {
                            title: "JDK11 - ZGCÂûÉÂúæÊî∂ÈõÜÂô®",
                            path: "article/Java/JDK/JDK11-ZGC.md",
                            type: "markdown",
                            tags: ["JDK11", "ZGC", "ÂûÉÂúæÊî∂ÈõÜ", "ÊÄßËÉΩ‰ºòÂåñ"],
                            description: "ZGC‰ΩéÂª∂ËøüÂûÉÂúæÊî∂ÈõÜÂô®ÂéüÁêÜÂàÜÊûê‰∏éÊÄßËÉΩË∞É‰ºòÂÆûË∑µ",
                            readTime: 28
                        },
                        {
                            title: "AJDK - AOTÈùôÊÄÅÁºñËØë",
                            path: "article/Java/JDK/AJDK-AOTÈùôÊÄÅÁºñËØë.md",
                            type: "markdown",
                            tags: ["AJDK", "AOT", "ÈùôÊÄÅÁºñËØë", "ÊÄßËÉΩ"],
                            description: "ÈòøÈáåJDKÁöÑAOTÈùôÊÄÅÁºñËØëÊäÄÊúØÊ∑±Â∫¶Ëß£Êûê‰∏éÂ∫îÁî®Âú∫ÊôØ",
                            readTime: 25
                        }
                    ]
                }
            }
        },
        "Âπ∂ÂèëÁºñÁ®ã": {
            icon: "üîÑ",
            articles: [
                {
                    title: "Âπ∂ÂèëÁºñÁ®ãÂéüÁêÜÊÄªÁªì",
                    path: "Concurrent/ÂéüÁêÜÊÄªÁªì.md",
                    type: "markdown",
                    tags: ["Âπ∂Âèë", "Â§öÁ∫øÁ®ã", "ÂêåÊ≠•", "ÂéüÁêÜ"],
                    description: "JavaÂπ∂ÂèëÁºñÁ®ãÊ†∏ÂøÉÊ¶ÇÂøµ‰∏éÂéüÁêÜÂÖ®Èù¢ÊÄªÁªì",
                    readTime: 35
                },
                {
                    title: "AQSÊ∫êÁ†ÅÊ∑±Â∫¶Ëß£Êûê",
                    path: "Concurrent/AQS/",
                    type: "folder",
                    tags: ["AQS", "Ê∫êÁ†Å", "ÂêåÊ≠•Âô®", "ÈîÅ"],
                    description: "AbstractQueuedSynchronizerÂêåÊ≠•Âô®Ê°ÜÊû∂Ê∫êÁ†ÅÊ∑±Â∫¶ÂàÜÊûê",
                    readTime: 45
                }
            ]
        },
        "Êï∞ÊçÆÂ∫ìÊäÄÊúØ": {
            icon: "üíæ",
            articles: [
                {
                    title: "MySQL„ÄÅHBase„ÄÅESÁâπÁÇπÂØπÊØî",
                    path: "Database/",
                    type: "folder",
                    tags: ["MySQL", "HBase", "Elasticsearch", "ÂØπÊØî"],
                    description: "‰∏âÂ§ß‰∏ªÊµÅÊï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°àÁöÑÁâπÁÇπÂàÜÊûê‰∏éÈÄâÂûãÊåáÂçó",
                    readTime: 30
                }
            ]
        },
        "Êû∂ÊûÑËÆæËÆ°": {
            icon: "üèóÔ∏è",
            articles: [
                {
                    title: "ÂàÜÂ∏ÉÂºèÁ≥ªÁªüËÆæËÆ°",
                    path: "Distrubute/",
                    type: "folder",
                    tags: ["ÂàÜÂ∏ÉÂºè", "Êû∂ÊûÑ", "Á≥ªÁªüËÆæËÆ°"],
                    description: "ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊ†∏ÂøÉÊ¶ÇÂøµ‰∏éÊû∂ÊûÑËÆæËÆ°Ê®°Âºè",
                    readTime: 40
                }
            ]
        },
        "ÂìçÂ∫îÂºèÁºñÁ®ã": {
            icon: "‚ö°",
            articles: [
                {
                    title: "ÂìçÂ∫îÂºèÁºñÁ®ãÂÖ•Èó®",
                    path: "Reactive/ÂìçÂ∫îÂºè.md",
                    type: "markdown",
                    tags: ["ÂìçÂ∫îÂºè", "ÂºÇÊ≠•", "ÊµÅÂ§ÑÁêÜ"],
                    description: "ÂìçÂ∫îÂºèÁºñÁ®ãËåÉÂºèÂÖ•Èó®‰∏éÂÆûË∑µÊåáÂçó",
                    readTime: 25
                },
                {
                    title: "Spring WebFluxÂÆûÊàò",
                    path: "WebFlux/",
                    type: "folder",
                    tags: ["WebFlux", "Spring", "ÂìçÂ∫îÂºè"],
                    description: "Spring WebFluxÂìçÂ∫îÂºèWebÊ°ÜÊû∂ÂÆûÊàòÊïôÁ®ã",
                    readTime: 35
                }
            ]
        }
    }
};

// ÂàùÂßãÂåñÁü•ËØÜÂ∫ì
document.addEventListener('DOMContentLoaded', function() {
    initializeKnowledgeBase();
    setupEventListeners();
});

function initializeKnowledgeBase() {
    generateCategoryTree();
    generateArticleGrid();
    updateStatistics();
    
    // ÈöêËóèÂä†ËΩΩÊåáÁ§∫Âô®
    setTimeout(() => {
        document.getElementById('loadingIndicator').style.display = 'none';
        document.getElementById('articleGrid').style.display = 'grid';
    }, 1500);
}

function generateCategoryTree() {
    const treeContainer = document.getElementById('categoryTree');
    let treeHTML = '';
    
    Object.entries(knowledgeBase.categories).forEach(([categoryName, categoryData]) => {
        treeHTML += `
            <div class="tree-node">
                <button class="tree-toggle" onclick="toggleCategory('${categoryName}')">
                    ${categoryData.icon} ${categoryName} <span class="toggle-icon">‚ñº</span>
                </button>
                <div class="tree-children" id="tree-${categoryName}">
        `;
        
        if (categoryData.children) {
            Object.entries(categoryData.children).forEach(([subName, subData]) => {
                const articleCount = subData.articles ? subData.articles.length : 0;
                treeHTML += `
                    <div class="tree-node">
                        <button class="tree-toggle" onclick="filterByCategory('${categoryName}', '${subName}')">
                            ${subData.icon} ${subName} (${articleCount})
                        </button>
                    </div>
                `;
            });
        } else if (categoryData.articles) {
            treeHTML += `
                <div class="tree-node">
                    <button class="tree-toggle" onclick="filterByCategory('${categoryName}')">
                        üìÑ ${categoryData.articles.length} ÁØáÊñáÁ´†
                    </button>
                </div>
            `;
        }
        
        treeHTML += `
                </div>
            </div>
        `;
    });
    
    treeContainer.innerHTML += treeHTML;
}

function generateArticleGrid() {
    const gridContainer = document.getElementById('articleGrid');
    let articlesHTML = '';
    
    // Êî∂ÈõÜÊâÄÊúâÊñáÁ´†
    const allArticles = [];
    Object.entries(knowledgeBase.categories).forEach(([categoryName, categoryData]) => {
        if (categoryData.children) {
            Object.entries(categoryData.children).forEach(([subName, subData]) => {
                if (subData.articles) {
                    subData.articles.forEach(article => {
                        allArticles.push({
                            ...article,
                            category: categoryName,
                            subcategory: subName
                        });
                    });
                }
            });
        } else if (categoryData.articles) {
            categoryData.articles.forEach(article => {
                allArticles.push({
                    ...article,
                    category: categoryName
                });
            });
        }
    });
    
    // ÁîüÊàêÊñáÁ´†Âç°Áâá
    allArticles.forEach(article => {
        const typeIcon = article.type === 'markdown' ? 'üìÑ' : 'üìÅ';
        const tagsHTML = article.tags.map(tag => 
            `<span class="article-tag">${tag}</span>`
        ).join('');
        
        articlesHTML += `
            <div class="article-card" data-category="${article.category}" data-tags="${article.tags.join(',').toLowerCase()}">
                <div class="article-meta">
                    <span class="article-type">${typeIcon} ${article.type}</span>
                    <span>‚è±Ô∏è ${article.readTime}ÂàÜÈíü</span>
                </div>
                <h3 class="article-title">${article.title}</h3>
                <p class="article-description">${article.description}</p>
                <div class="article-tags">${tagsHTML}</div>
                <div class="article-actions">
                    <a href="viewer.html?file=${encodeURIComponent(article.path)}" class="btn-read">
                        üìñ ÈòÖËØªÊñáÁ´†
                    </a>
                </div>
            </div>
        `;
    });
    
    gridContainer.innerHTML = articlesHTML;
}

function updateStatistics() {
    let totalArticles = 0;
    let totalCategories = 0;
    let totalReadingTime = 0;
    const allTags = new Set();
    
    Object.entries(knowledgeBase.categories).forEach(([categoryName, categoryData]) => {
        totalCategories++;
        
        if (categoryData.children) {
            Object.entries(categoryData.children).forEach(([subName, subData]) => {
                if (subData.articles) {
                    totalArticles += subData.articles.length;
                    subData.articles.forEach(article => {
                        totalReadingTime += article.readTime;
                        article.tags.forEach(tag => allTags.add(tag));
                    });
                }
            });
        } else if (categoryData.articles) {
            totalArticles += categoryData.articles.length;
            categoryData.articles.forEach(article => {
                totalReadingTime += article.readTime;
                article.tags.forEach(tag => allTags.add(tag));
            });
        }
    });
    
    // Âä®ÁîªÊõ¥Êñ∞Êï∞Â≠ó
    animateNumber('totalArticles', totalArticles);
    animateNumber('totalCategories', totalCategories);
    animateNumber('totalTags', allTags.size);
    animateNumber('readingTime', Math.round(totalReadingTime / 60));
}

function animateNumber(elementId, targetValue) {
    const element = document.getElementById(elementId);
    let currentValue = 0;
    const increment = targetValue / 50;
    
    const timer = setInterval(() => {
        currentValue += increment;
        if (currentValue >= targetValue) {
            currentValue = targetValue;
            clearInterval(timer);
        }
        element.textContent = Math.floor(currentValue);
    }, 30);
}

function setupEventListeners() {
    // ÊêúÁ¥¢ÂäüËÉΩ
    const searchInput = document.getElementById('advancedSearch');
    searchInput.addEventListener('input', debounce(performSearch, 300));
    
    // Á≠õÈÄâÊ†áÁ≠æ
    const filterTags = document.querySelectorAll('.filter-tag');
    filterTags.forEach(tag => {
        tag.addEventListener('click', function() {
            filterTags.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            filterArticles(this.dataset.filter);
        });
    });
}

function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

function performSearch() {
    const searchTerm = document.getElementById('advancedSearch').value.toLowerCase();
    const articles = document.querySelectorAll('.article-card');
    let visibleCount = 0;
    
    articles.forEach(article => {
        const title = article.querySelector('.article-title').textContent.toLowerCase();
        const description = article.querySelector('.article-description').textContent.toLowerCase();
        const tags = article.dataset.tags;
        
        const isVisible = title.includes(searchTerm) || 
                         description.includes(searchTerm) || 
                         tags.includes(searchTerm);
        
        article.style.display = isVisible ? 'block' : 'none';
        if (isVisible) visibleCount++;
    });
    
    // ÊòæÁ§∫/ÈöêËóèÊó†ÁªìÊûúÊèêÁ§∫
    document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
    document.getElementById('articleGrid').style.display = visibleCount === 0 ? 'none' : 'grid';
}

function filterArticles(filter) {
    const articles = document.querySelectorAll('.article-card');
    let visibleCount = 0;
    
    articles.forEach(article => {
        const shouldShow = filter === 'all' || 
                          article.dataset.category.toLowerCase().includes(filter) ||
                          article.dataset.tags.includes(filter);
        
        article.style.display = shouldShow ? 'block' : 'none';
        if (shouldShow) visibleCount++;
    });
    
    // ÊòæÁ§∫/ÈöêËóèÊó†ÁªìÊûúÊèêÁ§∫
    document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
    document.getElementById('articleGrid').style.display = visibleCount === 0 ? 'none' : 'grid';
}

function toggleCategory(categoryName) {
    const treeChildren = document.getElementById(`tree-${categoryName}`);
    const toggleIcon = event.target.querySelector('.toggle-icon');
    
    if (treeChildren.classList.contains('collapsed')) {
        treeChildren.classList.remove('collapsed');
        toggleIcon.textContent = '‚ñº';
    } else {
        treeChildren.classList.add('collapsed');
        toggleIcon.textContent = '‚ñ∂';
    }
}

function filterByCategory(category, subcategory = null) {
    const articles = document.querySelectorAll('.article-card');
    let visibleCount = 0;
    
    articles.forEach(article => {
        const articleCategory = article.dataset.category;
        const shouldShow = articleCategory === category;
        
        article.style.display = shouldShow ? 'block' : 'none';
        if (shouldShow) visibleCount++;
    });
    
    // ÊòæÁ§∫/ÈöêËóèÊó†ÁªìÊûúÊèêÁ§∫
    document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
    document.getElementById('articleGrid').style.display = visibleCount === 0 ? 'none' : 'grid';
}
</script>

</body>
</html>
