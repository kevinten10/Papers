<!DOCTYPE HTML>
<html>
<head>
    <title>Kevin's Advanced Knowledge Base</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
    <style>
        :root {
            --primary-color: #49bf9d;
            --primary-dark: #3a9d7a;
            --accent-color: #64b5f6;
            --warning-color: #ffb74d;
            --success-color: #81c784;
            --error-color: #e57373;
        }

        .knowledge-dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2em;
            min-height: 100vh;
        }

        .sidebar {
            background: linear-gradient(135deg, rgba(73, 191, 157, 0.1), rgba(73, 191, 157, 0.05));
            border-radius: 12px;
            padding: 1.5em;
            border: 1px solid rgba(73, 191, 157, 0.2);
            position: sticky;
            top: 20px;
            height: fit-content;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
        }

        .content-area {
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            padding: 2em;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .search-advanced {
            position: relative;
            margin-bottom: 2em;
        }

        .search-input {
            width: 100%;
            padding: 1em 1em 1em 3em;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(73, 191, 157, 0.3);
            border-radius: 25px;
            color: white;
            font-size: 1em;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 20px rgba(73, 191, 157, 0.3);
        }

        .search-icon {
            position: absolute;
            left: 1em;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            font-size: 1.2em;
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5em;
            margin-top: 1em;
        }

        .filter-tag {
            background: rgba(73, 191, 157, 0.2);
            color: var(--primary-color);
            padding: 0.3em 0.8em;
            border-radius: 15px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .filter-tag:hover, .filter-tag.active {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .category-tree {
            margin-top: 2em;
        }

        .tree-node {
            margin-bottom: 0.5em;
        }

        .tree-toggle {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 1em;
            padding: 0.5em;
            border-radius: 5px;
            transition: all 0.3s ease;
            width: 100%;
            text-align: left;
        }

        .tree-toggle:hover {
            background: rgba(73, 191, 157, 0.1);
        }

        .tree-children {
            margin-left: 1em;
            border-left: 2px solid rgba(73, 191, 157, 0.2);
            padding-left: 1em;
            margin-top: 0.5em;
        }

        .tree-children.collapsed {
            display: none;
        }

        .article-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5em;
            margin-top: 2em;
        }

        .article-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
            border-radius: 12px;
            padding: 1.5em;
            border: 1px solid rgba(73, 191, 157, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .article-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(73, 191, 157, 0.2);
            border-color: var(--primary-color);
        }

        .article-title {
            color: var(--primary-color);
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 0.8em;
            line-height: 1.4;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1em;
            font-size: 0.9em;
            color: rgba(255,255,255,0.7);
        }

        .article-type {
            background: var(--accent-color);
            color: white;
            padding: 0.2em 0.6em;
            border-radius: 10px;
            font-size: 0.8em;
        }

        .article-description {
            color: rgba(255,255,255,0.8);
            line-height: 1.6;
            margin-bottom: 1em;
        }

        .article-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.3em;
            margin-bottom: 1em;
        }

        .article-tag {
            background: rgba(73, 191, 157, 0.2);
            color: var(--primary-color);
            padding: 0.2em 0.5em;
            border-radius: 8px;
            font-size: 0.7em;
        }

        .article-actions {
            display: flex;
            gap: 0.5em;
        }

        .btn-read {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 0.5em 1em;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .btn-read:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(73, 191, 157, 0.4);
            color: white;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1em;
            margin-bottom: 2em;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(73, 191, 157, 0.1), rgba(73, 191, 157, 0.05));
            border-radius: 10px;
            padding: 1.5em;
            text-align: center;
            border: 1px solid rgba(73, 191, 157, 0.2);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            color: rgba(255,255,255,0.8);
            margin-top: 0.5em;
        }

        .breadcrumb {
            background: rgba(73, 191, 157, 0.1);
            padding: 1em;
            border-radius: 8px;
            margin-bottom: 2em;
            border-left: 4px solid var(--primary-color);
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(73, 191, 157, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .no-results {
            text-align: center;
            padding: 3em;
            color: rgba(255,255,255,0.6);
        }

        @media (max-width: 768px) {
            .knowledge-dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: relative;
                top: 0;
                max-height: none;
            }
        }
    </style>
</head>
<body class="is-preload">

<!-- Header -->
<header id="header">
    <div class="inner">
        <a href="index.html" class="image avatar"><img src="images/avatar.jpg" alt=""/></a>
        <h1><strong>Advanced Knowledge Base</strong><br/>
            æ™ºèƒ½æŠ€æœ¯æ–‡æ¡£ç³»ç»Ÿ<br/>
            AIé©±åŠ¨çš„å­¦ä¹ å¹³å°</h1>
    </div>
</header>

<!-- Main -->
<div id="main">
    <div class="breadcrumb">
        <span>ğŸ  <a href="index.html" style="color: var(--primary-color);">é¦–é¡µ</a></span>
        <span> / </span>
        <span>ğŸ“š é«˜çº§çŸ¥è¯†åº“</span>
    </div>

    <div class="knowledge-dashboard">
        <!-- ä¾§è¾¹æ  -->
        <div class="sidebar">
            <div class="search-advanced">
                <div style="position: relative;">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="advancedSearch" class="search-input" placeholder="æ™ºèƒ½æœç´¢æ–‡ç« ã€æŠ€æœ¯æ ˆã€å…³é”®è¯...">
                </div>
                <div class="filter-tags" id="filterTags">
                    <span class="filter-tag active" data-filter="all">å…¨éƒ¨</span>
                    <span class="filter-tag" data-filter="java">Java</span>
                    <span class="filter-tag" data-filter="bigdata">å¤§æ•°æ®</span>
                    <span class="filter-tag" data-filter="concurrent">å¹¶å‘</span>
                    <span class="filter-tag" data-filter="database">æ•°æ®åº“</span>
                    <span class="filter-tag" data-filter="architecture">æ¶æ„</span>
                    <span class="filter-tag" data-filter="ai">AI/ML</span>
                </div>
            </div>

            <div class="category-tree" id="categoryTree">
                <h4 style="color: var(--primary-color); margin-bottom: 1em;">ğŸ“‚ åˆ†ç±»å¯¼èˆª</h4>
                <!-- åŠ¨æ€ç”Ÿæˆçš„åˆ†ç±»æ ‘ -->
            </div>
        </div>

        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-number" id="totalArticles">0</div>
                    <div class="stat-label">ğŸ“„ æŠ€æœ¯æ–‡ç« </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalCategories">0</div>
                    <div class="stat-label">ğŸ“ åˆ†ç±»ç›®å½•</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalTags">0</div>
                    <div class="stat-label">ğŸ·ï¸ æŠ€æœ¯æ ‡ç­¾</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="readingTime">0</div>
                    <div class="stat-label">â±ï¸ é¢„è®¡é˜…è¯»(å°æ—¶)</div>
                </div>
            </div>

            <div id="loadingIndicator" style="text-align: center; padding: 2em;">
                <div class="loading-spinner"></div>
                <p style="margin-top: 1em; color: var(--primary-color);">æ­£åœ¨åŠ è½½çŸ¥è¯†åº“å†…å®¹...</p>
            </div>

            <div class="article-grid" id="articleGrid" style="display: none;">
                <!-- åŠ¨æ€ç”Ÿæˆçš„æ–‡ç« å¡ç‰‡ -->
            </div>

            <div class="no-results" id="noResults" style="display: none;">
                <h3>ğŸ” æœªæ‰¾åˆ°åŒ¹é…çš„å†…å®¹</h3>
                <p>å°è¯•è°ƒæ•´æœç´¢å…³é”®è¯æˆ–ç­›é€‰æ¡ä»¶</p>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="inner">
        <ul class="icons">
            <li><a href="https://github.com/kevinten10" class="icon fa-github"><span class="label">Github</span></a></li>
            <li><a href="mailto:596823919@qq.com" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; kevinten10</li>
            <li>Advanced Knowledge Base System</li>
        </ul>
    </div>
</footer>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<script>
// çŸ¥è¯†åº“æ•°æ®ç»“æ„
const knowledgeBase = {
    categories: {
        "åšå®¢æ–‡ç« ": {
            icon: "ğŸ“",
            children: {
                "äººå·¥æ™ºèƒ½": {
                    icon: "ğŸ¤–",
                    articles: [
                        {
                            title: "æ—¶é—´åºåˆ—é¢„æµ‹Prophetç®—æ³•å·¥ç¨‹å®è·µ",
                            path: "åšå®¢æ–‡ç« /Artificial/æ—¶é—´åºåˆ—é¢„æµ‹prophetç®—æ³•å·¥ç¨‹å®è·µ.md",
                            type: "markdown",
                            tags: ["AI", "æ—¶é—´åºåˆ—", "Prophet", "ç®—æ³•"],
                            description: "æ·±å…¥æ¢è®¨Facebookå¼€æºçš„Prophetæ—¶é—´åºåˆ—é¢„æµ‹ç®—æ³•åœ¨å®é™…å·¥ç¨‹ä¸­çš„åº”ç”¨å®è·µ",
                            readTime: 15
                        }
                    ]
                },
                "å¤§æ•°æ®": {
                    icon: "ğŸ“Š",
                    articles: [
                        {
                            title: "Google ä¸‰é©¾é©¬è½¦",
                            path: "åšå®¢æ–‡ç« /BigData/Google ä¸‰é©¾é©¬è½¦.md",
                            type: "markdown",
                            tags: ["Google", "BigData", "GFS", "MapReduce", "Bigtable"],
                            description: "æ·±åº¦è§£æGoogleä¸‰å¤§æ ¸å¿ƒæŠ€æœ¯ï¼šGFSã€MapReduceã€Bigtableçš„è®¾è®¡ç†å¿µä¸å®ç°",
                            readTime: 25
                        },
                        {
                            title: "Spark JobGraphæ¢ç©¶",
                            path: "åšå®¢æ–‡ç« /BigData/Spark JobGraphæ¢ç©¶.md",
                            type: "markdown",
                            tags: ["Spark", "JobGraph", "å¤§æ•°æ®", "è°ƒåº¦"],
                            description: "æ·±å…¥åˆ†æSparkä½œä¸šè°ƒåº¦æœºåˆ¶ï¼Œæ¢ç´¢JobGraphçš„æ„å»ºä¸ä¼˜åŒ–ç­–ç•¥",
                            readTime: 20
                        },
                        {
                            title: "ESæ•°æ®æ”¶é›†åˆ†æçˆ¬è™«",
                            path: "åšå®¢æ–‡ç« /BigData/ESæ•°æ®æ”¶é›†åˆ†æçˆ¬è™«.md",
                            type: "markdown",
                            tags: ["Elasticsearch", "çˆ¬è™«", "æ•°æ®åˆ†æ"],
                            description: "åŸºäºElasticsearchçš„æ•°æ®æ”¶é›†ä¸åˆ†æçˆ¬è™«ç³»ç»Ÿè®¾è®¡ä¸å®ç°",
                            readTime: 18
                        }
                    ]
                },
                "äº‘è®¡ç®—": {
                    icon: "â˜ï¸",
                    articles: [
                        {
                            title: "AWSæœ¯è¯­è§£æ",
                            path: "åšå®¢æ–‡ç« /Cloud/aws-terminology.md",
                            type: "markdown",
                            tags: ["AWS", "äº‘è®¡ç®—", "æœ¯è¯­"],
                            description: "AWSæ ¸å¿ƒæœåŠ¡ä¸æœ¯è¯­è¯¦è§£ï¼Œå¸®åŠ©å¿«é€Ÿç†è§£äº‘è®¡ç®—æ¦‚å¿µ",
                            readTime: 12
                        }
                    ]
                }
            }
        },
        "JavaæŠ€æœ¯": {
            icon: "â˜•",
            children: {
                "JDKæ–°ç‰¹æ€§": {
                    icon: "ğŸ†•",
                    articles: [
                        {
                            title: "JDK9 - JPMSæ¨¡å—åŒ–",
                            path: "article/Java/JDK/JDK9-JPMSæ¨¡å—åŒ–.md",
                            type: "markdown",
                            tags: ["JDK9", "JPMS", "æ¨¡å—åŒ–", "Java"],
                            description: "æ·±å…¥ç†è§£JDK9å¼•å…¥çš„Javaå¹³å°æ¨¡å—ç³»ç»Ÿ(JPMS)è®¾è®¡ä¸åº”ç”¨",
                            readTime: 22
                        },
                        {
                            title: "JDK10 - varç±»å‹æ¨æ–­",
                            path: "article/Java/JDK/JDK10-varç±»å‹æ¨æ–­.md",
                            type: "markdown",
                            tags: ["JDK10", "var", "ç±»å‹æ¨æ–­", "Java"],
                            description: "JDK10å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­ç‰¹æ€§è¯¦è§£ä¸æœ€ä½³å®è·µ",
                            readTime: 15
                        },
                        {
                            title: "JDK11 - ZGCåƒåœ¾æ”¶é›†å™¨",
                            path: "article/Java/JDK/JDK11-ZGC.md",
                            type: "markdown",
                            tags: ["JDK11", "ZGC", "åƒåœ¾æ”¶é›†", "æ€§èƒ½ä¼˜åŒ–"],
                            description: "ZGCä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨åŸç†åˆ†æä¸æ€§èƒ½è°ƒä¼˜å®è·µ",
                            readTime: 28
                        },
                        {
                            title: "AJDK - AOTé™æ€ç¼–è¯‘",
                            path: "article/Java/JDK/AJDK-AOTé™æ€ç¼–è¯‘.md",
                            type: "markdown",
                            tags: ["AJDK", "AOT", "é™æ€ç¼–è¯‘", "æ€§èƒ½"],
                            description: "é˜¿é‡ŒJDKçš„AOTé™æ€ç¼–è¯‘æŠ€æœ¯æ·±åº¦è§£æä¸åº”ç”¨åœºæ™¯",
                            readTime: 25
                        }
                    ]
                }
            }
        },
        "å¹¶å‘ç¼–ç¨‹": {
            icon: "ğŸ”„",
            articles: [
                {
                    title: "å¹¶å‘ç¼–ç¨‹åŸç†æ€»ç»“",
                    path: "Concurrent/åŸç†æ€»ç»“.md",
                    type: "markdown",
                    tags: ["å¹¶å‘", "å¤šçº¿ç¨‹", "åŒæ­¥", "åŸç†"],
                    description: "Javaå¹¶å‘ç¼–ç¨‹æ ¸å¿ƒæ¦‚å¿µä¸åŸç†å…¨é¢æ€»ç»“",
                    readTime: 35
                },
                {
                    title: "AQSæºç æ·±åº¦è§£æ",
                    path: "Concurrent/AQS/",
                    type: "folder",
                    tags: ["AQS", "æºç ", "åŒæ­¥å™¨", "é”"],
                    description: "AbstractQueuedSynchronizeråŒæ­¥å™¨æ¡†æ¶æºç æ·±åº¦åˆ†æ",
                    readTime: 45
                }
            ]
        },
        "æ•°æ®åº“æŠ€æœ¯": {
            icon: "ğŸ’¾",
            articles: [
                {
                    title: "MySQLã€HBaseã€ESç‰¹ç‚¹å¯¹æ¯”",
                    path: "Database/",
                    type: "folder",
                    tags: ["MySQL", "HBase", "Elasticsearch", "å¯¹æ¯”"],
                    description: "ä¸‰å¤§ä¸»æµæ•°æ®å­˜å‚¨æ–¹æ¡ˆçš„ç‰¹ç‚¹åˆ†æä¸é€‰å‹æŒ‡å—",
                    readTime: 30
                }
            ]
        },
        "æ¶æ„è®¾è®¡": {
            icon: "ğŸ—ï¸",
            articles: [
                {
                    title: "åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡",
                    path: "Distrubute/",
                    type: "folder",
                    tags: ["åˆ†å¸ƒå¼", "æ¶æ„", "ç³»ç»Ÿè®¾è®¡"],
                    description: "åˆ†å¸ƒå¼ç³»ç»Ÿæ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„è®¾è®¡æ¨¡å¼",
                    readTime: 40
                }
            ]
        },
        "å“åº”å¼ç¼–ç¨‹": {
            icon: "âš¡",
            articles: [
                {
                    title: "å“åº”å¼ç¼–ç¨‹å…¥é—¨",
                    path: "Reactive/å“åº”å¼.md",
                    type: "markdown",
                    tags: ["å“åº”å¼", "å¼‚æ­¥", "æµå¤„ç†"],
                    description: "å“åº”å¼ç¼–ç¨‹èŒƒå¼å…¥é—¨ä¸å®è·µæŒ‡å—",
                    readTime: 25
                },
                {
                    title: "Spring WebFluxå®æˆ˜",
                    path: "WebFlux/",
                    type: "folder",
                    tags: ["WebFlux", "Spring", "å“åº”å¼"],
                    description: "Spring WebFluxå“åº”å¼Webæ¡†æ¶å®æˆ˜æ•™ç¨‹",
                    readTime: 35
                }
            ]
        }
    }
};

// åˆå§‹åŒ–çŸ¥è¯†åº“
document.addEventListener('DOMContentLoaded', function() {
    initializeKnowledgeBase();
    setupEventListeners();
});

function initializeKnowledgeBase() {
    generateCategoryTree();
    generateArticleGrid();
    updateStatistics();
    
    // éšè—åŠ è½½æŒ‡ç¤ºå™¨
    setTimeout(() => {
        document.getElementById('loadingIndicator').style.display = 'none';
        document.getElementById('articleGrid').style.display = 'grid';
    }, 1500);
}

function generateCategoryTree() {
    const treeContainer = document.getElementById('categoryTree');
    let treeHTML = '';
    
    Object.entries(knowledgeBase.categories).forEach(([categoryName, categoryData]) => {
        treeHTML += `
            <div class="tree-node">
                <button class="tree-toggle" onclick="toggleCategory('${categoryName}')">
                    ${categoryData.icon} ${categoryName} <span class="toggle-icon">â–¼</span>
                </button>
                <div class="tree-children" id="tree-${categoryName}">
        `;
        
        if (categoryData.children) {
            Object.entries(categoryData.children).forEach(([subName, subData]) => {
                const articleCount = subData.articles ? subData.articles.length : 0;
                treeHTML += `
                    <div class="tree-node">
                        <button class="tree-toggle" onclick="filterByCategory('${categoryName}', '${subName}')">
                            ${subData.icon} ${subName} (${articleCount})
                        </button>
                    </div>
                `;
            });
        } else if (categoryData.articles) {
            treeHTML += `
                <div class="tree-node">
                    <button class="tree-toggle" onclick="filterByCategory('${categoryName}')">
                        ğŸ“„ ${categoryData.articles.length} ç¯‡æ–‡ç« 
                    </button>
                </div>
            `;
        }
        
        treeHTML += `
                </div>
            </div>
        `;
    });
    
    treeContainer.innerHTML += treeHTML;
}

function generateArticleGrid() {
    const gridContainer = document.getElementById('articleGrid');
    let articlesHTML = '';
    
    // æ”¶é›†æ‰€æœ‰æ–‡ç« 
    const allArticles = [];
    Object.entries(knowledgeBase.categories).forEach(([categoryName, categoryData]) => {
        if (categoryData.children) {
            Object.entries(categoryData.children).forEach(([subName, subData]) => {
                if (subData.articles) {
                    subData.articles.forEach(article => {
                        allArticles.push({
                            ...article,
                            category: categoryName,
                            subcategory: subName
                        });
                    });
                }
            });
        } else if (categoryData.articles) {
            categoryData.articles.forEach(article => {
                allArticles.push({
                    ...article,
                    category: categoryName
                });
            });
        }
    });
    
    // ç”Ÿæˆæ–‡ç« å¡ç‰‡
    allArticles.forEach(article => {
        const typeIcon = article.type === 'markdown' ? 'ğŸ“„' : 'ğŸ“';
        const tagsHTML = article.tags.map(tag => 
            `<span class="article-tag">${tag}</span>`
        ).join('');
        
        articlesHTML += `
            <div class="article-card" data-category="${article.category}" data-tags="${article.tags.join(',').toLowerCase()}">
                <div class="article-meta">
                    <span class="article-type">${typeIcon} ${article.type}</span>
                    <span>â±ï¸ ${article.readTime}åˆ†é’Ÿ</span>
                </div>
                <h3 class="article-title">${article.title}</h3>
                <p class="article-description">${article.description}</p>
                <div class="article-tags">${tagsHTML}</div>
                <div class="article-actions">
                    <a href="viewer.html?file=${encodeURIComponent(article.path)}" class="btn-read">
                        ğŸ“– é˜…è¯»æ–‡ç« 
                    </a>
                </div>
            </div>
        `;
    });
    
    gridContainer.innerHTML = articlesHTML;
}

function updateStatistics() {
    let totalArticles = 0;
    let totalCategories = 0;
    let totalReadingTime = 0;
    const allTags = new Set();
    
    Object.entries(knowledgeBase.categories).forEach(([categoryName, categoryData]) => {
        totalCategories++;
        
        if (categoryData.children) {
            Object.entries(categoryData.children).forEach(([subName, subData]) => {
                if (subData.articles) {
                    totalArticles += subData.articles.length;
                    subData.articles.forEach(article => {
                        totalReadingTime += article.readTime;
                        article.tags.forEach(tag => allTags.add(tag));
                    });
                }
            });
        } else if (categoryData.articles) {
            totalArticles += categoryData.articles.length;
            categoryData.articles.forEach(article => {
                totalReadingTime += article.readTime;
                article.tags.forEach(tag => allTags.add(tag));
            });
        }
    });
    
    // åŠ¨ç”»æ›´æ–°æ•°å­—
    animateNumber('totalArticles', totalArticles);
    animateNumber('totalCategories', totalCategories);
    animateNumber('totalTags', allTags.size);
    animateNumber('readingTime', Math.round(totalReadingTime / 60));
}

function animateNumber(elementId, targetValue) {
    const element = document.getElementById(elementId);
    let currentValue = 0;
    const increment = targetValue / 50;
    
    const timer = setInterval(() => {
        currentValue += increment;
        if (currentValue >= targetValue) {
            currentValue = targetValue;
            clearInterval(timer);
        }
        element.textContent = Math.floor(currentValue);
    }, 30);
}

function setupEventListeners() {
    // æœç´¢åŠŸèƒ½
    const searchInput = document.getElementById('advancedSearch');
    searchInput.addEventListener('input', debounce(performSearch, 300));
    
    // ç­›é€‰æ ‡ç­¾
    const filterTags = document.querySelectorAll('.filter-tag');
    filterTags.forEach(tag => {
        tag.addEventListener('click', function() {
            filterTags.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            filterArticles(this.dataset.filter);
        });
    });
}

function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

function performSearch() {
    const searchTerm = document.getElementById('advancedSearch').value.toLowerCase();
    const articles = document.querySelectorAll('.article-card');
    let visibleCount = 0;
    
    articles.forEach(article => {
        const title = article.querySelector('.article-title').textContent.toLowerCase();
        const description = article.querySelector('.article-description').textContent.toLowerCase();
        const tags = article.dataset.tags;
        
        const isVisible = title.includes(searchTerm) || 
                         description.includes(searchTerm) || 
                         tags.includes(searchTerm);
        
        article.style.display = isVisible ? 'block' : 'none';
        if (isVisible) visibleCount++;
    });
    
    // æ˜¾ç¤º/éšè—æ— ç»“æœæç¤º
    document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
    document.getElementById('articleGrid').style.display = visibleCount === 0 ? 'none' : 'grid';
}

function filterArticles(filter) {
    const articles = document.querySelectorAll('.article-card');
    let visibleCount = 0;
    
    articles.forEach(article => {
        const shouldShow = filter === 'all' || 
                          article.dataset.category.toLowerCase().includes(filter) ||
                          article.dataset.tags.includes(filter);
        
        article.style.display = shouldShow ? 'block' : 'none';
        if (shouldShow) visibleCount++;
    });
    
    // æ˜¾ç¤º/éšè—æ— ç»“æœæç¤º
    document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
    document.getElementById('articleGrid').style.display = visibleCount === 0 ? 'none' : 'grid';
}

function toggleCategory(categoryName) {
    const treeChildren = document.getElementById(`tree-${categoryName}`);
    const toggleIcon = event.target.querySelector('.toggle-icon');
    
    if (treeChildren.classList.contains('collapsed')) {
        treeChildren.classList.remove('collapsed');
        toggleIcon.textContent = 'â–¼';
    } else {
        treeChildren.classList.add('collapsed');
        toggleIcon.textContent = 'â–¶';
    }
}

function filterByCategory(category, subcategory = null) {
    const articles = document.querySelectorAll('.article-card');
    let visibleCount = 0;
    
    articles.forEach(article => {
        const articleCategory = article.dataset.category;
        const shouldShow = articleCategory === category;
        
        article.style.display = shouldShow ? 'block' : 'none';
        if (shouldShow) visibleCount++;
    });
    
    // æ˜¾ç¤º/éšè—æ— ç»“æœæç¤º
    document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
    document.getElementById('articleGrid').style.display = visibleCount === 0 ? 'none' : 'grid';
}
</script>

</body>
</html>
